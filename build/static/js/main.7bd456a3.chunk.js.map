{"version":3,"sources":["services/phonebook.js","components/PersonForm.js","components/Filter.js","components/Person.js","components/Message.js","App.js","index.js"],"names":["baseURL","phoneService","getAll","axios","get","then","response","data","newPerson","phObj","post","updatePerson","id","uptObj","put","deletePerson","delete","PersonForm","addPerson","newName","newNum","setNewName","setNewNum","onSubmit","value","onChange","event","target","type","Filter","filterVal","handleFilter","Persons","persons","delPerson","filter","person","name","toLowerCase","includes","map","number","onClick","Message","msg","message","className","App","useState","setPersons","setFilterVal","setMsg","useEffect","phones","preventDefault","some","p","window","confirm","pObj","find","updObj","setTimeout","catch","error","console","log","newObj","concat","Person","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7bd456a3.chunk.js","sourcesContent":["\r\nimport axios from 'axios'\r\nconst baseURL = \"/api/persons\"\r\n// const baseURL = \"https://stark-meadow-74176.herokuapp.com/api/persons\"\r\n\r\nconst getAll =  () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n};\r\n\r\nconst newPerson = (phObj) =>{\r\n    const request = axios.post(baseURL,phObj)\r\n    return request.then(response => response.data)   \r\n}\r\nconst updatePerson = (id,uptObj) =>{\r\n    const request = axios.put(`${baseURL}/${id}`,uptObj)\r\n    \r\n    return request.then(response =>  response.data)\r\n        // .catch(error=> console.log(\"ERR\",error))   \r\n}\r\nconst deletePerson = (id) =>{\r\n    const request = axios.delete(`${baseURL}/${id}`)\r\n    return request.then(response => response.data)   \r\n}\r\nconst phoneService = {\r\n    getAll,\r\n    newPerson,\r\n    updatePerson,\r\n    deletePerson\r\n}\r\nexport default phoneService","\r\nconst PersonForm = ({addPerson,newName,newNum,setNewName,setNewNum})=>{\r\n    return(\r\n       <form onSubmit={addPerson}>\r\n         <div>\r\n           <label/>Person Name : <input value={newName} onChange={(event) => setNewName(event.target.value)}/> <br/>\r\n           <label/>Phone Number : <input value={newNum} onChange={(event) => setNewNum(event.target.value)}/>\r\n   \r\n         </div>\r\n         <div>\r\n           <button type=\"submit\">add</button>\r\n         </div>\r\n       </form>\r\n     )\r\n   }\r\n\r\n   export default PersonForm","const Filter = ({filterVal,handleFilter}) => {\r\n    return(\r\n      <div>\r\n        Filter shown with : <input value={filterVal} onChange={handleFilter}/>\r\n      </div>\r\n    ) \r\n  }\r\n\r\nexport default Filter","const Persons = ({persons,filterVal,delPerson}) =>{\r\n    return(\r\n      <ul>\r\n        {\r\n          persons.filter(person => person.name.toLowerCase().includes(filterVal.toLowerCase()))\r\n            .map(person => <li key={person.id}> <b>{person.name}</b> : {person.number}<button onClick={()=>delPerson(person)} >Delete</button></li>)\r\n        }\r\n      </ul>\r\n    )\r\n  }\r\n\r\nexport default Persons","const Message = ({msg}) => {\r\n    \r\n    if (msg.message === null) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div className={msg.type}>\r\n        {msg.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default Message","// import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\n// import axios  from 'axios'\nimport phoneService from './services/phonebook'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport Persons from './components/Person'\nimport Message from './components/Message'\nimport './index.css'\n\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNum, setNewNum ] = useState('')\n  const [ filterVal, setFilterVal ] = useState('')\n  const [ msg, setMsg ] = useState({})\n\n  useEffect(()=>{\n    phoneService.getAll().then(phones => setPersons(phones))\n  },[])\n\n  const addPerson = (event) =>{\n    event.preventDefault();\n    if (persons.some(p => p.name===newName)){\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one ?`)){\n        const pObj = persons.find(p => p.name === newName)\n        phoneService.updatePerson(pObj.id,{...pObj,number:newNum,}).then(updObj => {\n          setPersons(persons.map(p=> p.id !== pObj.id ? p : updObj))\n          setMsg({\n            message:`Information of ${newName} has updated.`,\n            type:\"success\"\n          })\n          setTimeout(() => {\n            setMsg({})\n          }, 5000)\n          setNewName('')\n          setNewNum('')\n        }).catch(error=>{\n          console.log(\"UPDATED::\",error)\n          setMsg({\n            message:`Information of ${newName} has already been removed from server.`,\n            type:\"error\"\n          })\n          setTimeout(() => {\n            setMsg({})\n          }, 5000)\n        })\n      }\n    }else{\n      phoneService.newPerson({name:newName,number:newNum,}).then(newObj => {\n\n        setPersons(persons.concat(newObj))\n        setMsg({\n          message:`Information of ${newName} has  been added to the server.`,\n          type:\"success\"\n        })\n        setTimeout(() => {\n          setMsg({})\n        }, 5000)\n        setNewName('')\n        setNewNum('')\n      }).catch(error=>{\n        // console.log(\"NEW ADDED ERR::\",error.response);\n        setMsg({\n          message:`${error.response.data.error}`,\n          type:\"error\"\n        })\n        setTimeout(() => {\n          setMsg({})\n        }, 5000)\n        setNewName('')\n        setNewNum('')\n      })\n    }\n    \n  }\n  const delPerson = ({id,name}) =>{\n    const confirm = window.confirm(`Delete ${name} ?`)   \n    if(confirm){\n      phoneService.deletePerson(id).then(response=>{\n        setPersons(persons.filter(p=> p.id !==id))\n      }).catch(error=>{\n        console.log(error)\n        setMsg({\n          message:`Information of ${newName} has already been removed from server.`,\n          type:\"error\"\n        })\n        setTimeout(() => {\n          setMsg({})\n        }, 5000)\n      })\n  }\n}\n  return (\n    <div>\n      <Message msg={msg}/>\n      <h2>Phonebook</h2>\n      <Filter handleFilter={(event)=> setFilterVal(event.target.value)}/>\n      <h2>Add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} newNum={newNum} setNewName={setNewName} setNewNum={setNewNum}  />\n      <h2>Numbers</h2>\n      <Persons persons={persons} filterVal={filterVal} delPerson={delPerson}/>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}